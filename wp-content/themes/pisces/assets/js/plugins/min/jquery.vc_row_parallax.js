function _LaRefreshScroll(){jQuery;_LaScrollTop=window.pageYOffset,_LaScrollLeft=window.pageXOffset}function _LaParallaxAll(){_LaRefreshScroll();for(var t=0;t<_LaImageParallaxImages.length;t++)_LaImageParallaxImages[t].doParallax()}if(function(){for(var t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return window.setTimeout(function(){t()},16)})}(),"undefined"==typeof _LaImageParallaxImages)var _LaImageParallaxImages=[],_LaScrollTop,_LaWindowHeight,_LaScrollLeft,_LaWindowWidth;!function(t,e){function i(e,i){this.element=e,this.settings=t.extend({},s,i),""==this.settings.align&&(this.settings.align="center"),""===this.settings.id&&(this.settings.id=+new Date),this._defaults=s,this._name=n,this.init()}var n="la_vc_row_parallax",s={direction:"up",mobileenabled:!1,mobiledevice:!1,width:"",height:"",align:"center",opacity:"1",velocity:".3",image:"",target:"",repeat:!1,loopScroll:"",loopScrollTime:"2",removeOrig:!1,zIndex:"-1",id:"",complete:function(){}};t.extend(i.prototype,{init:function(){""===this.settings.target&&(this.settings.target=t(this.element)),this.settings.target.addClass(this.settings.direction),""===this.settings.image&&"undefined"!=typeof t(this.element).css("backgroundImage")&&""!==t(this.element).css("backgroundImage")&&(this.settings.image=t(this.element).css("backgroundImage").replace(/url\(|\)|"|'/g,"")),_LaImageParallaxImages.push(this),this.setup(),this.settings.complete(),this.containerWidth=0,this.containerHeight=0},setup:function(){this.settings.removeOrig!==!1&&t(this.element).remove(),this.resizeParallaxBackground()},doParallax:function(){if((!this.settings.mobiledevice||this.settings.mobileenabled)&&this.isInView()){"undefined"==typeof this.settings.inner&&(this.settings.inner=this.settings.target[0].querySelectorAll(".parallax-inner-"+this.settings.id)[0]);var t=this.settings.inner;("undefined"==typeof this.settings.doParallaxClientLastUpdate||+new Date-this.settings.doParallaxClientLastUpdate>2e3+1e3*Math.random())&&(this.settings.doParallaxClientLastUpdate=+new Date,this.settings.clientWidthCache=this.settings.target[0].clientWidth,this.settings.clientHeightCache=this.settings.target[0].clientHeight),0===this.containerWidth||0===this.containerHeight||this.settings.clientWidthCache===this.containerWidth&&this.settings.clientHeightCache===this.containerHeight||this.resizeParallaxBackground(),this.containerWidth=this.settings.clientWidthCache,this.containerHeight=this.settings.clientHeightCache;var e=(_LaScrollTop-this.scrollTopMin)/(this.scrollTopMax-this.scrollTopMin),i=this.moveMax*e;("left"===this.settings.direction||"up"===this.settings.direction)&&(i*=-1);var n="translate3d(",s="px, 0px, 0px)",a="translate3d(0px, ",o="px, 0px)";try{"ie"==LA.utils.browser.name&&LA.utils.browser.version<10&&(n="translate(",s="px, 0px)",a="translate(0px, ",o="px)")}catch(r){}"no-repeat"===t.style.backgroundRepeat&&("down"===this.settings.direction&&0>i&&(i=0),"up"===this.settings.direction&&i>0&&(i=0)),"left"===this.settings.direction||"right"===this.settings.direction?(t.style.transition="transform 1ms linear",t.style.webkitTransform=n+i+s,t.style.transform=n+i+s):(t.style.transition="transform 1ms linear",t.style.webkitTransform=a+i+o,t.style.transform=a+i+o),t.style.transition="transform -1ms linear"}},isInView:function(){if("undefined"==typeof this.settings.offsetLastUpdate||+new Date-this.settings.offsetLastUpdate>4e3+1e3*Math.random()){this.settings.offsetLastUpdate=+new Date;var t=this.settings.target[0];this.settings.offsetTopCache=t.getBoundingClientRect().top+e.pageYOffset,this.settings.elemHeightCache=t.clientHeight}var i=this.settings.offsetTopCache,n=this.settings.elemHeightCache;return _LaScrollTop>i+n||i>_LaScrollTop+_LaWindowHeight?!1:!0},computeCoverDimensions:function(t,e,i){var n=t/e,s=i.offsetWidth/i.offsetHeight;if(n>=s)var a=i.offsetHeight,o=a/e,r=t*o;else var r=i.offsetWidth,o=r/t,a=e*o;return r+"px "+a+"px"},resizeParallaxBackground:function(){var e=this.settings.target;if("undefined"!=typeof e&&0!==e.length){var i="true"===this.settings.repeat||this.settings.repeat===!0||1===this.settings.repeat;if(e[0].style.minHeight="150px","none"===this.settings.direction){var n=e.width()+parseInt(e.css("paddingRight"))+parseInt(e.css("paddingLeft")),s=e.offset().left;"center"===this.settings.align?s="50% 50%":"left"===this.settings.align?s="0% 50%":"right"===this.settings.align?s="100% 50%":"top"===this.settings.align?s="50% 0%":"bottom"===this.settings.align&&(s="50% 100%"),e.css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundSize:"cover",backgroundAttachment:"scroll",backgroundPosition:s,backgroundRepeat:"no-repeat"}),""!==this.settings.image&&"none"!==this.settings.image&&e.css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:"url("+this.settings.image+")"})}else if("fixed"===this.settings.direction){var n=e.width()+parseInt(e.css("paddingRight"))+parseInt(e.css("paddingLeft")),a=_LaWindowHeight,o="0%";"center"===this.settings.align?o="50%":"right"===this.settings.align&&(o="100%");var r=e.offset().left,l=!!navigator.userAgent.match(/MSIE/)||!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)||!!navigator.userAgent.match(/Edge\/12/),c=!!navigator.userAgent.match(/Edge\/12/);!l&&e.find(".fixed-wrapper-"+this.settings.id).length<1&&t("<div></div>").addClass("fixed-wrapper-"+this.settings.id).prependTo(e),e.find(".parallax-inner-"+this.settings.id).length<1&&t("<div></div>").addClass("la_parallax_inner").addClass("parallax-inner-"+this.settings.id).addClass(this.settings.direction).prependTo(l?e:e.find(".fixed-wrapper-"+this.settings.id)),e.css({position:"relative",overflow:"hidden",zIndex:1}),e.find(".fixed-wrapper-"+this.settings.id).css({position:"absolute",top:0,left:0,right:0,bottom:0,clip:l?"auto":"rect(auto,auto,auto,auto)",webkitTransform:"none",transform:"none"}),e.find(".parallax-inner-"+this.settings.id).css({pointerEvents:"none",width:n,height:a,position:l?"absolute":"fixed",zIndex:this.settings.zIndex,top:0,left:l?0:r,opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundSize:i?"auto":l?this.computeCoverDimensions(this.settings.width,this.settings.height,e[0].querySelectorAll(".parallax-inner-"+this.settings.id)[0]):"cover",backgroundAttachment:"fixed",backgroundPosition:i?"0 0 ":"50% 50%",backgroundRepeat:i?"repeat":"no-repeat",webkitTransform:"translateZ(0)",transform:"translateZ(0)"}),c&&(e.css({transform:"none",transformStyle:"flat"}),e.find(".parallax-inner-"+this.settings.id).css({transform:"none",transformStyle:"flat"})),""!==this.settings.image&&"none"!==this.settings.image&&e.find(".parallax-inner-"+this.settings.id).css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:"url("+this.settings.image+")"}),this.settings.mobiledevice&&!this.settings.mobileenabled&&e.find(".parallax-inner-"+this.settings.id).css({position:"absolute",backgroundAttachment:"initial",backgroundSize:"cover",left:"0",right:"0",bottom:"0",top:"0",height:"auto",width:"auto"})}else if("left"===this.settings.direction||"right"===this.settings.direction){var n=e.width()+parseInt(e.css("paddingRight"))+parseInt(e.css("paddingLeft")),a=e.height()+parseInt(e.css("paddingTop"))+parseInt(e.css("paddingBottom")),h=n;n+=400*Math.abs(parseFloat(this.settings.velocity));var d="0%";"center"===this.settings.align?d="50%":"bottom"===this.settings.align&&(d="100%");var r=0;"right"===this.settings.direction&&(r-=n-h),e.find(".parallax-inner-"+this.settings.id).length<1&&t("<div></div>").addClass("la_parallax_inner").addClass("parallax-inner-"+this.settings.id).addClass(this.settings.direction).prependTo(e),e.css({position:"relative",overflow:"hidden",zIndex:1}).find(".parallax-inner-"+this.settings.id).css({pointerEvents:"none",width:n,height:a,position:"absolute",zIndex:this.settings.zIndex,top:0,left:r,opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundSize:i?"auto":this.computeCoverDimensions(this.settings.width,this.settings.height,e[0].querySelectorAll(".parallax-inner-"+this.settings.id)[0]),backgroundPosition:i?"0 0 ":"50% "+d,backgroundRepeat:i?"repeat":"no-repeat"}),""!==this.settings.image&&"none"!==this.settings.image&&e.find(".parallax-inner-"+this.settings.id).css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:"url("+this.settings.image+")"});var g=0;e.offset().top>_LaWindowHeight&&(g=e.offset().top-_LaWindowHeight);var u=e.offset().top+e.height()+parseInt(e.css("paddingTop"))+parseInt(e.css("paddingBottom"));this.moveMax=n-h,this.scrollTopMin=g,this.scrollTopMax=u}else{var p=800;"down"===this.settings.direction&&(p*=1.2);var n=e.width()+parseInt(e.css("paddingRight"))+parseInt(e.css("paddingLeft")),a=e.height()+parseInt(e.css("paddingTop"))+parseInt(e.css("paddingBottom")),m=a;a+=p*Math.abs(parseFloat(this.settings.velocity));var r="0%";"center"===this.settings.align?r="50%":"right"===this.settings.align&&(r="100%");var d=0;"down"===this.settings.direction&&(d-=a-m),e.find(".parallax-inner-"+this.settings.id).length<1&&t("<div></div>").addClass("la_parallax_inner").addClass("parallax-inner-"+this.settings.id).addClass(this.settings.direction).prependTo(e),e.css({position:"relative",overflow:"hidden",zIndex:1}).find(".parallax-inner-"+this.settings.id).css({pointerEvents:"none",width:n,height:a,position:"absolute",zIndex:this.settings.zIndex,top:d,left:0,opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundSize:i?"auto":this.computeCoverDimensions(this.settings.width,this.settings.height,e[0].querySelectorAll(".parallax-inner-"+this.settings.id)[0]),backgroundPosition:i?"0":r+" 50%",backgroundRepeat:i?"repeat":"no-repeat"}),""!==this.settings.image&&"none"!==this.settings.image&&e.find(".parallax-inner-"+this.settings.id).css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:"url("+this.settings.image+")"});var g=0;e.offset().top>_LaWindowHeight&&(g=e.offset().top-_LaWindowHeight);var u=e.offset().top+e.height()+parseInt(e.css("paddingTop"))+parseInt(e.css("paddingBottom"));this.moveMax=a-m,this.scrollTopMin=g,this.scrollTopMax=u}}}}),t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new i(this,e))}),this}}(jQuery,window,document),jQuery(document).ready(function(t){"use strict";function e(){_LaRefreshScroll();for(var t=0;t<_LaImageParallaxImages.length;t++)_LaImageParallaxImages[t].doParallax();requestAnimationFrame(e)}function i(){_LaScrollTop=window.pageYOffset,_LaWindowHeight=window.innerHeight,_LaScrollLeft=window.pageXOffset,_LaWindowWidth=window.innerWidth}t(window).on("scroll touchmove touchstart touchend gesturechange mousemove",function(){requestAnimationFrame(_LaParallaxAll)}),navigator.userAgent.match(/(Mobi|Android)/)&&requestAnimationFrame(e),t(window).on("grid:items:added la_vc_row_parallax:refresh",function(){setTimeout(function(){var t=jQuery;i(),t.each(_LaImageParallaxImages,function(t,e){e.resizeParallaxBackground()})},1)}),t(window).on("resize",function(){setTimeout(function(){var t=jQuery;i(),t.each(_LaImageParallaxImages,function(t,e){e.resizeParallaxBackground()})},1)}),setTimeout(function(){var t=jQuery;i(),t.each(_LaImageParallaxImages,function(t,e){e.resizeParallaxBackground()})},1),setTimeout(function(){var t=jQuery;i(),t.each(_LaImageParallaxImages,function(t,e){e.resizeParallaxBackground()})},100)});
